## 8. ES6 的扩展运算符有哪些用法？

**答案：**

### 1. 数组扩展运算符

```javascript
// 1.1 复制数组
const arr1 = [1, 2, 3];
const arr2 = [...arr1];
console.log(arr2); // [1, 2, 3]

// 1.2 合并数组
const arr3 = [1, 2];
const arr4 = [3, 4];
const arr5 = [...arr3, ...arr4];
console.log(arr5); // [1, 2, 3, 4]

// 1.3 转换为参数序列
function add(a, b, c) {
  return a + b + c;
}
const nums = [1, 2, 3];
console.log(add(...nums)); // 6

// 1.4 字符串转数组
const str = 'hello';
const chars = [...str];
console.log(chars); // ['h', 'e', 'l', 'l', 'o']

// 1.5 类数组转数组
function fn() {
  const args = [...arguments];
  console.log(args);
}
fn(1, 2, 3); // [1, 2, 3]
```

### 2. 对象扩展运算符

```javascript
// 2.1 复制对象
const obj1 = { name: 'test', age: 18 };
const obj2 = { ...obj1 };
console.log(obj2); // { name: 'test', age: 18 }

// 2.2 合并对象
const obj3 = { name: 'test' };
const obj4 = { age: 18 };
const obj5 = { ...obj3, ...obj4 };
console.log(obj5); // { name: 'test', age: 18 }

// 2.3 添加属性
const obj6 = { ...obj1, city: 'Beijing' };
console.log(obj6); // { name: 'test', age: 18, city: 'Beijing' }

// 2.4 覆盖属性
const obj7 = { ...obj1, age: 20 };
console.log(obj7); // { name: 'test', age: 20 }

// 2.5 浅拷贝
const original = { name: 'test', info: { age: 18 } };
const copy = { ...original };
copy.info.age = 20;
console.log(original.info.age); // 20（原对象也被修改）
```

### 3. 函数参数

```javascript
// 3.1 剩余参数
function sum(...args) {
  return args.reduce((acc, val) => acc + val, 0);
}
console.log(sum(1, 2, 3)); // 6

// 3.2 解构 + 剩余参数
function fn(first, ...rest) {
  console.log(first); // 1
  console.log(rest); // [2, 3, 4]
}
fn(1, 2, 3, 4);
```

### 4. 实际应用

```javascript
// 4.1 数组去重
const arr = [1, 2, 2, 3, 3, 4];
const unique = [...new Set(arr)];
console.log(unique); // [1, 2, 3, 4]

// 4.2 求数组最大值
const nums = [1, 5, 3, 8, 2];
const max = Math.max(...nums);
console.log(max); // 8

// 4.3 React 组件传递 props
function Button({ ...props }) {
  return <button {...props}>Click me</button>;
}

// 4.4 Redux combineReducers
const rootReducer = combineReducers({
  user: userReducer,
  posts: postsReducer,
  ...otherReducers
});

// 4.5 对象不可变更新
const state = {
  user: { name: 'test', age: 18 }
};
const newState = {
  ...state,
  user: {
    ...state.user,
    age: 20
  }
};
```

---
