## 5. ES6 的模板字符串有哪些特性？

**答案：**

### 1. 基本语法

使用反引号（`）包裹字符串，可以使用 `${}` 嵌入变量和表达式。

```javascript
const name = 'test';
const age = 18;

const message = `My name is ${name}, I'm ${age} years old.`;
console.log(message); // "My name is test, I'm 18 years old."
```

### 2. 多行字符串

```javascript
// ES5
const html = '<div>' +
  '<h1>Title</h1>' +
  '<p>Content</p>' +
'</div>';

// ES6
const html = `
  <div>
    <h1>Title</h1>
    <p>Content</p>
  </div>
`;
```

### 3. 嵌入表达式

```javascript
const a = 10;
const b = 20;

const result = `${a} + ${b} = ${a + b}`;
console.log(result); // "10 + 20 = 30"

// 复杂表达式
const price = 99.99;
const quantity = 2;
const total = `Total: $${(price * quantity).toFixed(2)}`;
console.log(total); // "Total: $199.98"

// 调用函数
const greeting = `Hello, ${name.toUpperCase()}!`;
console.log(greeting); // "Hello, TEST!"
```

### 4. 嵌套模板字符串

```javascript
const name = 'test';
const age = 18;

const message = `Hello, ${`My name is ${name}, I'm ${age} years old.`}`;
console.log(message); // "Hello, My name is test, I'm 18 years old."
```

### 5. 标签模板

```javascript
function tag(strings, ...values) {
  console.log(strings); // ['Hello ', ', I am ', ' years old']
  console.log(values); // ['test', 18]
}

const name = 'test';
const age = 18;

tag`Hello ${name}, I am ${age} years old`;

// 实际应用：转义 HTML
function safeHtml(strings, ...values) {
  return strings.reduce((result, string, i) => {
    const value = values[i] || '';
    return result + string + value.replace(/</g, '&lt;');
  }, '');
}

const userInput = '<script>alert("XSS")</script>';
const html = safeHtml`<div>${userInput}</div>`;
console.log(html); // "<div>&lt;script&gt;alert("XSS")&lt;/script&gt;</div>"
```

### 6. 常用标签模板

```javascript
// 1. 原始字符串
const raw = String.raw`Hello\nWorld`;
console.log(raw); // "Hello\nWorld"（不是换行）

// 2. 多语言支持
function i18n(strings, ...values) {
  return strings.reduce((result, string, i) => {
    const value = values[i] || '';
    return result + string + (value ? translations[value] : value);
  }, '');
}

const translations = {
  hello: '你好',
  world: '世界'
};

const message = i18n`${'hello'} ${'world'}`;
console.log(message); // "你好 世界"
```

### 7. 与字符串方法的结合

```javascript
const name = 'test';

// toUpperCase()
const message = `Hello, ${name.toUpperCase()}!`;

// includes()
const text = `Hello, ${name}`;
console.log(text.includes('test')); // true

// repeat()
const separator = '-'.repeat(10);
console.log(separator); // "----------"
```

---
