## 7. ES6 的解构赋值有哪些用法？

**答案：**

### 1. 数组解构

```javascript
// 基本用法
const [a, b, c] = [1, 2, 3];
console.log(a, b, c); // 1 2 3

// 跳过某些值
const [first, , third] = [1, 2, 3];
console.log(first, third); // 1 3

// 剩余元素
const [head, ...tail] = [1, 2, 3, 4];
console.log(head); // 1
console.log(tail); // [2, 3, 4]

// 默认值
const [x = 1, y = 2] = [];
console.log(x, y); // 1 2

// 交换变量
let m = 1, n = 2;
[m, n] = [n, m];
console.log(m, n); // 2 1
```

### 2. 对象解构

```javascript
// 基本用法
const { name, age } = { name: 'test', age: 18 };
console.log(name, age); // 'test' 18

// 重命名
const { name: userName, age: userAge } = { name: 'test', age: 18 };
console.log(userName, userAge); // 'test' 18

// 默认值
const { x = 1, y = 2 } = {};
console.log(x, y); // 1 2

// 剩余属性
const { a, ...rest } = { a: 1, b: 2, c: 3 };
console.log(a); // 1
console.log(rest); // { b: 2, c: 3 }

// 嵌套解构
const user = {
  name: 'test',
  address: {
    city: 'Beijing',
    country: 'China'
  }
};
const { address: { city, country } } = user;
console.log(city, country); // 'Beijing' 'China'
```

### 3. 函数参数解构

```javascript
// 数组参数
function sum([a, b]) {
  return a + b;
}
console.log(sum([1, 2])); // 3

// 对象参数
function greet({ name, age }) {
  console.log(`Hello, ${name}. You are ${age} years old.`);
}
greet({ name: 'test', age: 18 });

// 默认值
function fn({ x = 1, y = 2 } = {}) {
  console.log(x, y);
}
fn(); // 1 2
fn({}); // 1 2
fn({ x: 10 }); // 10 2
```

### 4. 字符串解构

```javascript
const [a, b, c] = 'abc';
console.log(a, b, c); // 'a' 'b' 'c'
```

### 5. 数值和布尔值解构

```javascript
// 数值
const { toString: s } = 123;
console.log(s === Number.prototype.toString); // true

// 布尔值
const { valueOf: v } = true;
console.log(v === Boolean.prototype.valueOf); // true
```

### 6. 实际应用

```javascript
// 1. 交换变量
let a = 1, b = 2;
[a, b] = [b, a];

// 2. 从函数返回多个值
function getUser() {
  return ['test', 18, 'Beijing'];
}
const [name, age, city] = getUser();

// 3. 提取 JSON 数据
const response = {
  data: {
    user: {
      name: 'test',
      age: 18
    }
  }
};
const { data: { user } } = response;

// 4. 函数参数默认值
function createElement({ tag = 'div', content = '' } = {}) {
  const element = document.createElement(tag);
  element.textContent = content;
  return element;
}

// 5. 遍历 Map
const map = new Map([
  ['name', 'test'],
  ['age', 18]
]);
for (const [key, value] of map) {
  console.log(key, value);
}
```

---
