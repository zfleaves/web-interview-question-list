## 13. ES6 的模块化是什么？

**答案：**

### 模块化简介

ES6 模块化是 JavaScript 官方的模块化方案，取代了 CommonJS 和 AMD。

### 导出（export）

```javascript
// 1. 命名导出
export const name = 'test';
export const age = 18;

export function add(a, b) {
  return a + b;
}

export class Person {
  constructor(name) {
    this.name = name;
  }
}

// 2. 默认导出
export default function() {
  console.log('hello');
}

// 3. 混合导出
export const PI = 3.14159;
export default class Calculator {
  add(a, b) {
    return a + b;
  }
}

// 4. 导出多个
const a = 1;
const b = 2;
export { a, b };

// 5. 重命名导出
export { a as x, b as y };
```

### 导入（import）

```javascript
// 1. 导入单个
import { name, age } from './module.js';

// 2. 导入多个
import { name, age, add } from './module.js';

// 3. 导入默认
import myFunction from './module.js';

// 4. 导入所有
import * as module from './module.js';

// 5. 重命名导入
import { name as userName } from './module.js';

// 6. 只导入
import './module.js';
```

### 动态导入

```javascript
// 动态导入返回 Promise
import('./module.js').then(module => {
  console.log(module);
});

// async/await
async function loadModule() {
  const module = await import('./module.js');
  console.log(module);
}
```

### ES6 模块 vs CommonJS

| 特性 | ES6 模块 | CommonJS |
|------|----------|----------|
| 导入 | import | require |
| 导出 | export | module.exports |
| 加载方式 | 编译时加载 | 运行时加载 |
| 顶层 this | undefined | global |
| 静态分析 | 支持 | 不支持 |
| 循环依赖 | 支持 | 支持 |
| 浏览器支持 | 需要编译 | 不支持 |

---
