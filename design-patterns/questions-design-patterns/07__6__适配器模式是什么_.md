## 6. 适配器模式是什么？

**答案：**

适配器模式将一个类的接口转换成客户希望的另外一个接口，使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。

### JavaScript 实现

```javascript
// 目标接口
class Target {
  request() {
    return 'Target: The default target\'s behavior.';
  }
}

// 需要适配的类
class Adaptee {
  specificRequest() {
    return '.eetpadA eht fo roivaheb laicepS';
  }
}

// 适配器
class Adapter extends Target {
  constructor(adaptee) {
    super();
    this.adaptee = adaptee;
  }

  request() {
    const result = this.adaptee.specificRequest();
    return `Adapter: (TRANSLATED) ${result.split('').reverse().join('')}`;
  }
}

// 使用
const adaptee = new Adaptee();
const adapter = new Adapter(adaptee);
console.log(adapter.request());
// Adapter: (TRANSLATED) Special behavior of the Adaptee.
```

### 实际应用：API 适配

```javascript
// 旧 API
class OldAPI {
  getUserName() {
    return 'John Doe';
  }

  getUserAge() {
    return 30;
  }
}

// 新 API 接口
class NewAPI {
  getUserInfo() {
    return {
      name: '',
      age: 0
    };
  }
}

// 适配器
class APIAdapter extends NewAPI {
  constructor(oldAPI) {
    super();
    this.oldAPI = oldAPI;
  }

  getUserInfo() {
    return {
      name: this.oldAPI.getUserName(),
      age: this.oldAPI.getUserAge()
    };
  }
}

// 使用
const oldAPI = new OldAPI();
const adapter = new APIAdapter(oldAPI);
console.log(adapter.getUserInfo()); // { name: 'John Doe', age: 30 }
```

### 应用场景

1. **旧系统与新系统的集成**
2. **第三方库的接口适配**
3. **不同数据格式的转换**

---