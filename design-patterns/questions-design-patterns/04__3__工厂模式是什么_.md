## 3. 工厂模式是什么？

**答案：**

工厂模式提供了一种创建对象的最佳方式，在创建对象时不会对客户端暴露创建逻辑。

### 简单工厂模式

```javascript
class Product {
  constructor(name) {
    this.name = name;
  }

  operation() {
    console.log(`Product: ${this.name}`);
  }
}

class Factory {
  static createProduct(type) {
    switch (type) {
      case 'A':
        return new Product('Product A');
      case 'B':
        return new Product('Product B');
      default:
        throw new Error('Unknown product type');
    }
  }
}

const productA = Factory.createProduct('A');
productA.operation(); // Product: Product A
```

### 工厂方法模式

```javascript
class Product {
  constructor(name) {
    this.name = name;
  }

  operation() {
    console.log(`Product: ${this.name}`);
  }
}

class ProductA extends Product {
  constructor() {
    super('Product A');
  }
}

class ProductB extends Product {
  constructor() {
    super('Product B');
  }
}

class Factory {
  createProduct() {
    throw new Error('This method should be overridden');
  }
}

class FactoryA extends Factory {
  createProduct() {
    return new ProductA();
  }
}

class FactoryB extends Factory {
  createProduct() {
    return new ProductB();
  }
}

const factoryA = new FactoryA();
const product1 = factoryA.createProduct();
product1.operation(); // Product: Product A
```

### 抽象工厂模式

```javascript
class AbstractFactory {
  createProductA() {
    throw new Error('This method should be overridden');
  }

  createProductB() {
    throw new Error('This method should be overridden');
  }
}

class ConcreteFactory1 extends AbstractFactory {
  createProductA() {
    return new ProductA1();
  }

  createProductB() {
    return new ProductB1();
  }
}

class ConcreteFactory2 extends AbstractFactory {
  createProductA() {
    return new ProductA2();
  }

  createProductB() {
    return new ProductB2();
  }
}

const factory1 = new ConcreteFactory1();
const productA1 = factory1.createProductA();
const productB1 = factory1.createProductB();
```

### 应用场景

1. **日志记录器**（文件日志、数据库日志）
2. **数据库连接**（MySQL、PostgreSQL、MongoDB）
3. **UI 组件创建**（不同平台的组件）

---