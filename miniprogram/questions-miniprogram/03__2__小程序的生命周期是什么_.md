## 2. 小程序的生命周期是什么？

**答案：**

### App 生命周期

```javascript
App({
  onLaunch(options) {
    // 小程序初始化完成时触发，全局只触发一次
    console.log('onLaunch', options);
  },
  
  onShow(options) {
    // 小程序启动，或从后台进入前台显示时触发
    console.log('onShow', options);
  },
  
  onHide() {
    // 小程序从前台进入后台时触发
    console.log('onHide');
  },
  
  onError(msg) {
    // 小程序发生脚本错误或 API 调用报错时触发
    console.error('onError', msg);
  }
});
```

### Page 生命周期

```javascript
Page({
  onLoad(options) {
    // 页面加载时触发
    console.log('onLoad', options);
  },
  
  onShow() {
    // 页面显示/切入前台时触发
    console.log('onShow');
  },
  
  onReady() {
    // 页面初次渲染完成时触发
    console.log('onReady');
  },
  
  onHide() {
    // 页面从前台进入后台时触发
    console.log('onHide');
  },
  
  onUnload() {
    // 页面卸载时触发
    console.log('onUnload');
  }
});
```

### Component 生命周期

```javascript
Component({
  lifetimes: {
    attached() {
      // 组件实例进入页面节点树时执行
      console.log('attached');
    },
    
    detached() {
      // 组件实例被从页面节点树移除时执行
      console.log('detached');
    }
  },
  
  pageLifetimes: {
    show() {
      // 组件所在页面被展示时执行
      console.log('show');
    },
    
    hide() {
      // 组件所在页面被隐藏时执行
      console.log('hide');
    }
  }
});
```

---