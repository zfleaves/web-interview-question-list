## 10. 小程序如何实现分享功能？

**答案：**

### 基础分享

```javascript
Page({
  onShareAppMessage() {
    return {
      title: '分享标题',
      path: '/pages/index/index?id=123',
      imageUrl: '/images/share.png'
    };
  }
});
```

### 动态分享

```javascript
Page({
  data: {
    product: {
      id: 1,
      name: '商品名称',
      image: '/images/product.png'
    }
  },
  
  onShareAppMessage() {
    const { product } = this.data;
    
    return {
      title: product.name,
      path: `/pages/detail/detail?id=${product.id}`,
      imageUrl: product.image
    };
  }
});
```

### 分享到朋友圈

```javascript
Page({
  onShareTimeline() {
    return {
      title: '分享标题',
      query: 'id=123',
      imageUrl: '/images/share.png'
    };
  }
});
```

### 监听分享

```javascript
Page({
  onShareAppMessage() {
    wx.showShareMenu({
      withShareTicket: true,
      menus: ['shareAppMessage', 'shareTimeline']
    });
    
    return {
      title: '分享标题',
      path: '/pages/index/index'
    };
  }
});
```

---