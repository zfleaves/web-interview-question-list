# 8. 如何实现一个防抖的搜索框？

**答案：**

```javascript
// 封装防抖函数
function debounce(func, delay) {
  let timer = null;
  
  return function(...args) {
    clearTimeout(timer);
    timer = setTimeout(() => {
      func.apply(this, args);
    }, delay);
  };
}

// 使用
class SearchBox extends React.Component {
  state = {
    keyword: '',
    results: []
  };
  
  handleSearch = debounce((keyword) => {
    // 模拟 API 请求
    fetch(`/api/search?keyword=${keyword}`)
      .then(res => res.json())
      .then(data => {
        this.setState({ results: data });
      });
  }, 300);
  
  handleChange = (e) => {
    const keyword = e.target.value;
    this.setState({ keyword });
    this.handleSearch(keyword);
  };
  
  render() {
    return (
      <div>
        <input
          type="text"
          value={this.state.keyword}
          onChange={this.handleChange}
          placeholder="搜索..."
        />
        <ul>
          {this.state.results.map(item => (
            <li key={item.id}>{item.name}</li>
          ))}
        </ul>
      </div>
    );
  }
}
```

---

## 场景题
