# 1. Â¶Ç‰ΩïÂÆûÁé∞‰∏Ä‰∏™ÂâçÁ´ØÂØåÊñáÊú¨ÁºñËæëÂô®Ôºü

**Á≠îÊ°àÔºö**

```javascript
// ÂØåÊñáÊú¨ÁºñËæëÂô®ÂÆûÁé∞
class RichTextEditor {
  constructor(container, options = {}) {
    this.container = container;
    this.options = {
      toolbar: true,
      placeholder: 'ËØ∑ËæìÂÖ•ÂÜÖÂÆπ...',
      ...options,
    };
    
    this.init();
  }
  
  init() {
    // ÂàõÂª∫ÁºñËæëÂô®ÂÆπÂô®
    this.editor = document.createElement('div');
    this.editor.contentEditable = true;
    this.editor.className = 'rich-text-editor';
    this.editor.setAttribute('data-placeholder', this.options.placeholder);
    
    // ÂàõÂª∫Â∑•ÂÖ∑Ê†è
    if (this.options.toolbar) {
      this.toolbar = this.createToolbar();
      this.container.appendChild(this.toolbar);
    }
    
    this.container.appendChild(this.editor);
    
    // ÁªëÂÆö‰∫ã‰ª∂
    this.bindEvents();
  }
  
  createToolbar() {
    const toolbar = document.createElement('div');
    toolbar.className = 'rich-text-toolbar';
    
    const buttons = [
      { command: 'bold', icon: 'B', title: 'Âä†Á≤ó' },
      { command: 'italic', icon: 'I', title: 'Êñú‰Ωì' },
      { command: 'underline', icon: 'U', title: '‰∏ãÂàíÁ∫ø' },
      { command: 'strikeThrough', icon: 'S', title: 'Âà†Èô§Á∫ø' },
      { divider: true },
      { command: 'justifyLeft', icon: '‚Üê', title: 'Â∑¶ÂØπÈΩê' },
      { command: 'justifyCenter', icon: '‚Üî', title: 'Â±Ö‰∏≠' },
      { command: 'justifyRight', icon: '‚Üí', title: 'Âè≥ÂØπÈΩê' },
      { divider: true },
      { command: 'insertUnorderedList', icon: '‚Ä¢', title: 'Êó†Â∫èÂàóË°®' },
      { command: 'insertOrderedList', icon: '1.', title: 'ÊúâÂ∫èÂàóË°®' },
      { divider: true },
      { command: 'createLink', icon: 'üîó', title: 'ÊèíÂÖ•ÈìæÊé•' },
      { command: 'insertImage', icon: 'üñºÔ∏è', title: 'ÊèíÂÖ•ÂõæÁâá' },
    ];
    
    buttons.forEach(btn => {
      if (btn.divider) {
        const divider = document.createElement('span');
        divider.className = 'toolbar-divider';
        toolbar.appendChild(divider);
      } else {
        const button = document.createElement('button');
        button.className = 'toolbar-button';
        button.textContent = btn.icon;
        button.title = btn.title;
        button.addEventListener('click', () => this.executeCommand(btn.command));
        toolbar.appendChild(button);
      }
    });
    
    return toolbar;
  }
  
  bindEvents() {
    // ÁõëÂê¨ËæìÂÖ•‰∫ã‰ª∂
    this.editor.addEventListener('input', () => {
      this.onInput();
    });
    
    // ÁõëÂê¨ÈÄâÊã©ÂèòÂåñ
    document.addEventListener('selectionchange', () => {
      this.onSelectionChange();
    });
    
    // ÁõëÂê¨Á≤òË¥¥‰∫ã‰ª∂
    this.editor.addEventListener('paste', (e) => {
      this.onPaste(e);
    });
  }
  
  executeCommand(command, value = null) {
    document.execCommand(command, false, value);
    this.editor.focus();
  }
  
  onInput() {
    if (this.options.onInput) {
      this.options.onInput(this.getHTML());
    }
  }
  
  onSelectionChange() {
    // Êõ¥Êñ∞Â∑•ÂÖ∑Ê†èÁä∂ÊÄÅ
    const commands = ['bold', 'italic', 'underline', 'strikeThrough'];
    commands.forEach(command => {
      const isActive = document.queryCommandState(command);
      this.updateToolbarButton(command, isActive);
    });
  }
  
  updateToolbarButton(command, isActive) {
    const button = this.toolbar.querySelector(`[data-command="${command}"]`);
    if (button) {
      button.classList.toggle('active', isActive);
    }
  }
  
  onPaste(e) {
    e.preventDefault();
    
    // Ëé∑ÂèñÁ∫ØÊñáÊú¨
    const text = e.clipboardData.getData('text/plain');
    document.execCommand('insertText', false, text);
  }
  
  getHTML() {
    return this.editor.innerHTML;
  }
  
  setHTML(html) {
    this.editor.innerHTML = html;
  }
  
  getText() {
    return this.editor.textContent;
  }
  
  focus() {
    this.editor.focus();
  }
  
  blur() {
    this.editor.blur();
  }
}
```

---
