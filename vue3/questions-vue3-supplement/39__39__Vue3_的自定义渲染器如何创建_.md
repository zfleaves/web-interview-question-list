# 39. Vue3 的自定义渲染器如何创建？

**答案：**

### 基本概念

Vue3 的自定义渲染器允许将 Vue 渲染到非 DOM 平台，如 Canvas、WebGL 等。

### 创建自定义渲染器

```javascript
import { createRenderer } from 'vue';

const renderer = createRenderer({
  createElement(tag) {
    return { tag, children: [] };
  },

  patchProp(el, key, prevValue, nextValue) {
    el[key] = nextValue;
  },

  insert(child, parent, anchor) {
    parent.children.push(child);
  },

  remove(child) {
    const index = parent.children.indexOf(child);
    if (index > -1) {
      parent.children.splice(index, 1);
    }
  },

  createText(text) {
    return { text };
  },

  setText(node, text) {
    node.text = text;
  },

  createComment(text) {
    return { comment: text };
  }
});

// 使用
const app = createApp({
  setup() {
    const count = ref(0);

    return { count };
  }
});

renderer.createApp(app).mount('#app');
```

---