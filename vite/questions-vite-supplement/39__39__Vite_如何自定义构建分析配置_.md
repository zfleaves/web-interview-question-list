# 39. Vite 如何自定义构建分析配置？

**答案：**

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import { visualizer } from 'rollup-plugin-visualizer';

export default defineConfig({
  plugins: [
    visualizer({
      filename: 'dist/stats.html',  // 输出文件
      open: false,                   // 不自动打开
      gzipSize: true,                // 显示 gzip 大小
      brotliSize: true,              // 显示 brotli 大小
      template: 'treemap',           // 模板类型
      json: false                    // 不生成 JSON
    })
  ]
});
```

---

## 总结

以上补充了 Vite 的高频面试题，涵盖了：

1. **环境变量文件** - `.env` 文件的配置
2. **环境变量使用** - 在代码中使用环境变量
3. **环境变量配置** - Vite 配置环境变量
4. **环境变量注意事项** - 使用环境变量的注意点
5. **依赖预构建原理** - 预构建的工作流程
6. **依赖预构建配置** - optimizeDeps 配置
7. **依赖预构建缓存** - 缓存机制
8. **多页面应用配置** - MPA 配置
9. **多页面应用结构** - 项目结构
10. **多页面应用 HTML** - HTML 文件配置
11. **多页面应用插件** - 使用插件
12. **SSR 配置** - 服务端渲染配置
13. **SSR 服务端入口** - 服务端入口文件
14. **SSR 客户端入口** - 客户端入口文件
15. **SSR Express 服务器** - 服务器配置
16. **库模式配置** - Library Mode 配置
17. **库模式入口** - 入口文件
18. **库模式 package.json** - 包配置
19. **库模式构建** - 构建命令
20. **CSS Modules 配置** - CSS 模块化配置
21. **CSS Modules 使用** - 使用 CSS Modules
22. **CSS Modules 动态类名** - 动态类名
23. **CSS Modules TypeScript** - TypeScript 支持
24. **SVG 导入** - 导入 SVG
25. **SVG vite-plugin-svgr** - 使用 svgr 插件
26. **SVG React** - React 中使用
27. **SVG Vue** - Vue 中使用
28. **Worker 主线程** - 主线程使用
29. **Worker 文件** - Worker 文件配置
30. **Worker 配置** - Worker 配置
31. **Worker Composable** - 封装 Worker
32. **按需导入 vite-plugin-imp** - 按需导入组件
33. **按需导入 unplugin-vue-components** - 自动导入组件
34. **按需导入 unplugin-auto-import** - 自动导入 API
35. **按需导入使用** - 使用示例
36. **构建分析 rollup-plugin-visualizer** - 可视化分析
37. **构建分析 vite-plugin-inspect** - 检查插件
38. **构建分析使用** - 使用方法
39. **构建分析自定义配置** - 自定义配置

这些题目补充了 Vite 的高级特性，能够更全面地考察候选人的 Vite 能力。