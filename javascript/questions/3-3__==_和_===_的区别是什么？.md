# 3. == 和 === 的区别是什么？

**答案：**

**区别：**

```javascript
// ==：抽象相等（类型转换后比较）
// ===：严格相等（不转换类型，直接比较）

// 1. 类型不同时的比较
5 == '5'; // true (字符串转换为数字)
5 === '5'; // false

// 2. null 和 undefined
null == undefined; // true
null === undefined; // false

// 3. 布尔值
true == 1; // true
true === 1; // false
false == 0; // true
false === 0; // false

// 4. 对象
{} == {}; // false
{} === {}; // false
[] == []; // false
[] === []; // false

// 5. 特殊情况
0 == ''; // true (空字符串转换为 0)
0 == '0'; // true
0 == false; // true
1 == true; // true
```

**类型转换规则：**

```javascript
// 1. 字符串和数字比较
'5' == 5; // true (字符串转换为数字)

// 2. 布尔值和其他类型比较
true == 1; // true (布尔值转换为数字)
false == 0; // true
true == '1'; // true

// 3. null 和 undefined
null == undefined; // true
null == 0; // false
undefined == 0; // false

// 4. 对象和原始类型比较
[1] == 1; // true (数组转换为字符串 "1"，再转换为数字 1)
[1, 2] == '1,2'; // true
```

**场景题：**

```javascript
// 场景 1：条件判断
// ❌ 不推荐：使用 ==
if (value == 0) {
  // value 为 0、'0'、false、''、[] 时都会执行
}

// ✅ 推荐：使用 ===
if (value === 0) {
  // 只有 value 为 0 时才执行
}

// 场景 2：检查变量是否存在
// ❌ 不推荐
if (value == null) {
  // value 为 null 或 undefined 时执行
}

// ✅ 推荐
if (value === null || value === undefined) {
  // 更明确
}

// 场景 3：数组判断
// ❌ 错误
if (arr == []) {
  // 永远不会为 true
}

// ✅ 正确
if (arr.length === 0) {
  // 数组为空
}

// 场景 4：对象判断
// ❌ 错误
if (obj == {}) {
  // 永远不会为 true
}

// ✅ 正确
if (Object.keys(obj).length === 0) {
  // 对象为空
}

// 场景 5：类型安全的比较函数
function strictEqual(a, b) {
  return a === b;
}

function looseEqual(a, b) {
  return a == b;
}

// 使用场景
const userInput = '5';
if (strictEqual(userInput, 5)) {
  // 不会执行
}

if (looseEqual(userInput, 5)) {
  // 会执行（字符串 '5' 转换为数字 5）
}
```

---