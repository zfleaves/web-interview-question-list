# 12. 实现防抖和节流函数

**答案：**

```javascript
// 防抖
function debounce(func, delay) {
  let timeoutId;
  
  return function(...args) {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => {
      func.apply(this, args);
    }, delay);
  };
}

// 节流
function throttle(func, delay) {
  let lastCall = 0;
  
  return function(...args) {
    const now = Date.now();
    if (now - lastCall >= delay) {
      func.apply(this, args);
      lastCall = now;
    }
  };
}

// 使用
const debouncedSearch = debounce(function(query) {
  console.log('Searching:', query);
}, 300);

const throttledScroll = throttle(function() {
  console.log('Scrolling...');
}, 100);

// 测试
const input = document.createElement('input');
input.addEventListener('input', (e) => {
  debouncedSearch(e.target.value);
});

window.addEventListener('scroll', throttledScroll);
```

---