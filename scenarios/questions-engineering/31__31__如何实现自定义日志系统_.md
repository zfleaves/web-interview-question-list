# 31. 如何实现自定义日志系统？

**答案：**

```typescript
// logger.ts
class Logger {
  private isDevelopment = import.meta.env.DEV;

  info(message: string, data?: any) {
    if (this.isDevelopment) {
      console.log(`[INFO] ${message}`, data);
    }
    // 发送到日志服务
    this.sendLog('info', message, data);
  }

  error(message: string, error?: any) {
    console.error(`[ERROR] ${message}`, error);
    this.sendLog('error', message, error);
  }

  private sendLog(level: string, message: string, data?: any) {
    // 发送到后端日志服务
    fetch('/api/logs', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ level, message, data, timestamp: Date.now() })
    });
  }
}

export const logger = new Logger();
```

---