## 16.  什么是 HTTP 压缩？常见的压缩算法有哪些？

**答案：**

### HTTP 压缩简介

HTTP 压缩是指在传输数据前对数据进行压缩，减少传输数据量，提高传输速度。

### 压缩流程

```
1. 客户端发送请求，声明支持的压缩算法
   Accept-Encoding: gzip, deflate, br

2. 服务器选择压缩算法，压缩数据
   Content-Encoding: gzip

3. 客户端接收数据，解压缩
```

### 常见的压缩算法

#### 1. Gzip

**特点：**
- 兼容性好
- 压缩率中等
- CPU 开销中等

**配置：**

```nginx
# nginx 配置
gzip on;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;
gzip_min_length 1000;
```

#### 2. Deflate

**特点：**
- 兼容性好
- 压缩率较低
- CPU 开销较低

**配置：**

```nginx
# nginx 配置
gzip on;
gzip_types text/plain text/css application/json application/javascript;
gzip_disable "msie6";
```

#### 3. Brotli（br）

**特点：**
- 压缩率高
- CPU 开销高
- 兼容性较差

**配置：**

```nginx
# nginx 配置
brotli on;
brotli_types text/plain text/css application/json application/javascript;
brotli_static on;
```

### 压缩算法对比

| 算法 | 压缩率 | 速度 | 兼容性 |
|------|--------|------|--------|
| Gzip | 中等 | 中等 | 好 |
| Deflate | 较低 | 快 | 好 |
| Brotli | 高 | 慢 | 较差 |

### 实际应用

```javascript
// 前端配置
// webpack.config.js
module.exports = {
  plugins: [
    new CompressionPlugin({
      algorithm: 'gzip',
      test: /\.(js|css|html|svg)$/
    })
  ]
};
```

---