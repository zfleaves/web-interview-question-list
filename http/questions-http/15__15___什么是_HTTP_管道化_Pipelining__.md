## 15.  什么是 HTTP 管道化（Pipelining）？

**答案：**

### HTTP 管道化简介

HTTP 管道化是 HTTP/1.1 中的一种技术，允许客户端在收到响应之前发送多个请求。

### 管道化原理

```
非管道化：
请求1 --> 响应1 --> 请求2 --> 响应2 --> 请求3 --> 响应3

管道化：
请求1 --> 请求2 --> 请求3 --> 响应1 --> 响应2 --> 响应3
```

### 管道化的优点

1. **减少延迟**：不需要等待前一个请求的响应
2. **提高吞吐量**：充分利用网络带宽

### 管道化的缺点

1. **队头阻塞**：第一个请求响应慢，后面的请求必须等待
2. **服务器支持差**：很多服务器不支持管道化
3. **调试困难**：请求和响应的顺序不一致

### 管道化 vs HTTP/2 多路复用

| 特性 | 管道化 | HTTP/2 多路复用 |
|------|--------|----------------|
| 响应顺序 | 必须按顺序返回 | 可以乱序返回 |
| 队头阻塞 | 有 | 无 |
| 服务器支持 | 差 | 好 |

### 实际应用

```javascript
// 浏览器默认不启用管道化
// 可以通过以下方式启用
fetch('http://example.com/api1', {
  pipeline: true
});
fetch('http://example.com/api2', {
  pipeline: true
});
```

---