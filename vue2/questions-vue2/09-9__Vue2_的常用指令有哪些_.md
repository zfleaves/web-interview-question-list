# 9. Vue2 的常用指令有哪些？

**答案：**

**1. v-bind（属性绑定）：**

```javascript
// 简写 :
<div v-bind:id="dynamicId"></div>
<div :id="dynamicId"></div>

// 对象语法
<div :class="{ active: isActive, disabled: isDisabled }"></div>
<div :style="{ color: activeColor, fontSize: fontSize + 'px' }"></div>

// 数组语法
<div :class="[activeClass, errorClass]"></div>
<div :style="[styleObject1, styleObject2]"></div>

// 动态参数
<button :[key]="value">Button</button>
```

**2. v-on（事件监听）：**

```javascript
// 简写 @
<div v-on:click="doSomething"></div>
<div @click="doSomething"></div>

// 事件修饰符
<form @submit.prevent="onSubmit">prevent default</form>
<div @click.stop="doThis">stop propagation</div>
<div @click.once="doThis">trigger only once</div>
<input @keyup.enter="onEnter">enter key</input>

// 动态参数
<button @[event]="handler">Button</button>
```

**3. v-model（双向绑定）：**

```javascript
// 文本输入
<input v-model="message">

// 复选框
<input type="checkbox" v-model="checked">

// 多个复选框
<input type="checkbox" value="A" v-model="checkedNames">
<input type="checkbox" value="B" v-model="checkedNames">

// 单选按钮
<input type="radio" value="One" v-model="picked">

// 选择框
<select v-model="selected">
  <option disabled value="">Please select one</option>
  <option>A</option>
  <option>B</option>
</select>

// 修饰符
<input v-model.lazy="msg"> // 失焦时更新
<input v-model.number="age"> // 转换为数字
<input v-model.trim="msg"> // 去除首尾空格
```

**4. v-if / v-else-if / v-else（条件渲染）：**

```javascript
<div v-if="type === 'A'">A</div>
<div v-else-if="type === 'B'">B</div>
<div v-else-if="type === 'C'">C</div>
<div v-else>Not A/B/C</div>

// 使用 key 管理可复用元素
<transition>
  <button v-if="isEditing" key="save" @click="onSave">Save</button>
  <button v-else key="edit" @click="onEdit">Edit</button>
</transition>
```

**5. v-show（条件显示）：**

```javascript
<div v-show="isVisible">This is visible</div>

// v-if vs v-show
// v-if: 真正的条件渲染，惰性，切换开销大
// v-show: 简单的 CSS 切换，初始渲染开销大
```

**6. v-for（列表渲染）：**

```javascript
// 数组
<li v-for="item in items">{{ item.message }}</li>

// 带索引
<li v-for="(item, index) in items">{{ index }} - {{ item.message }}</li>

// 对象
<li v-for="value in object">{{ value }}</li>
<li v-for="(value, key) in object">{{ key }}: {{ value }}</li>
<li v-for="(value, key, index) in object">{{ index }}. {{ key }}: {{ value }}</li>

// 使用 key
<div v-for="item in items" :key="item.id">
  {{ item.text }}
</div>
```

**7. v-slot（插槽）：**

```javascript
// 默认插槽
<base-layout>
  <template v-slot:default>
    <p>A paragraph for the main content.</p>
  </template>
</base-layout>

// 具名插槽
<base-layout>
  <template v-slot:header>
    <h1>Here might be a page title</h1>
  </template>
  
  <template v-slot:default>
    <p>A paragraph for the main content.</p>
  </template>
  
  <template v-slot:footer>
    <p>Here's some contact info</p>
  </template>
</base-layout>

// 作用域插槽
<current-user>
  <template v-slot:default="slotProps">
    {{ slotProps.user.firstName }}
  </template>
</current-user>

// 简写
<current-user #default="slotProps">
  {{ slotProps.user.firstName }}
</current-user>
```

**8. v-text / v-html：**

```javascript
// v-text: 更新元素的 textContent
<span v-text="msg"></span>
<!-- 等同于 -->
<span>{{ msg }}</span>

// v-html: 更新元素的 innerHTML
<div v-html="rawHtml"></div>

// ⚠️ 注意：v-html 有 XSS 风险，只在可信内容上使用
```

**9. v-once（只渲染一次）：**

```javascript
<div v-once>{{ message }}</div>
<!-- 元素和子元素只渲染一次，不响应数据变化 -->
```

**10. v-pre（跳过编译）：**

```javascript
<div v-pre>{{ this will not be compiled }}</div>
<!-- 显示原始 Mustache 标签 -->
```

**11. v-cloak（保持在元素上直到关联实例结束编译）：**

```javascript
<div v-cloak>{{ message }}</div>

// CSS
[v-cloak] {
  display: none;
}
```
